if (!requireNamespace("BiocManager", quietly = TRUE))
install.packages("BiocManager")
BiocManager::install(version = "3.11")
if (!requireNamespace("BiocManager", quietly = TRUE))
install.packages("BiocManager")
BiocManager::install(version = "3.11")
install.packages("foreign")
install.packages("nlme")
install.packages("spatial")
BiocManager::install(version = "3.11")
BiocVersion::
BiocManager::install()
install.packages("shiny")
a = c(1,4,5,6,7,1,2,4,6,66,22)
m = median(a)
m
d = mad(a)
d
(a-m)/d
median((a-m)/d)
mean((a-m)/d)
mad((a-m)/d)
data.frame(A=c(1,2,3,4,5,0),B=(1,2,3,4,5,0))
data.frame(A=c(1,2,3,4,5,0),B=c(1,2,3,4,5,0))
a = data.frame(A=c(1,2,3,4,5,0),B=c(1,2,3,4,5,0))
a
a[rowsum(a),]
rowSums(a)
a[rowSums(a)>0,]
dim(a[rowSums(a)>0,])
library(feather)
library(arrow)
path <- "/home/oscar/Desktop/keras_proyect/data/"
# write_feather(df, path)
setwd(path)
df <- read_feather("MASTER.phenodata.dataframe.15505.samples.CURATED.feather")
table(df$primary_site)
length(unique(df$primary_site))
df$meta_groups = ""
df
df$meta_groups
table(df$primary_site)
df$primary_site == "Adrenal gland"
table(df$primary_site)
df$meta_groups
df
df[df$primary_site == "Adrenal gland",]$meta_groups = "Kidney and adrenal gland"
df[df$primary_site == "Brain",]$meta_groups = "Brain and nervous system"
df[df$primary_site == "Colon",]$meta_groups = "Digestive system"
df[df$primary_site == "Heart, mediastinum, and pleura",]$meta_groups = "muscle bones and cartilage"
df[df$primary_site == "Larynx",]$meta_groups = "Respiratory system"
df[df$primary_site == "Mouth and tongue and cartilage",]$meta_groups = "muscle bones and cartilage"
df[df$primary_site == "Prostate gland",]$meta_groups = "Male CC"
df[df$primary_site == "Stomach",]$meta_groups = "Digestive system"
df[df$primary_site == "Thyroid gland",]$meta_groups = "Thyroid"
df[df$primary_site == "Bladder",]$meta_groups = "Bladder"
df[df$primary_site == "Breast",]$meta_groups = "Female CC"
df[df$primary_site == "Connective, subcutaneous and other soft tissues",]$meta_groups = "Skin and subcutaneous"
df[df$primary_site == "Hematopoietic and reticuloendothelial systems",]$meta_groups = "Hematopoietic system"
df[df$primary_site == "Liver and intrahepatic bile ducts",]$meta_groups = "Liver pancreas and gall bladder"
df[df$primary_site == "Ovary",]$meta_groups = "Female CC"
df[df$primary_site == "Rectum",]$meta_groups = "Digestive system"
df[df$primary_site == "Testis",]$meta_groups = "Male CC"
df[df$primary_site == "Tonsil",]$meta_groups = "Lymphatic system"
df[df$primary_site == "Bones and cartilage",]$meta_groups = "muscle bones and cartilage"
df[df$primary_site == "Bronchus and lung",]$meta_groups = "Respiratory system"
df[df$primary_site == "Esophagus",]$meta_groups = "Digestive system"
df[df$primary_site == "Kidney",]$meta_groups = "Kidney and adrenal gland"
df[df$primary_site == "Lymph nodes",]$meta_groups = "Lymphatic system"
df[df$primary_site == "Pancreas",]$meta_groups = "Liver pancreas and gall bladder"
df[df$primary_site == "Skin",]$meta_groups = "Skin and subcutaneous"
df[df$primary_site == "Thymus",]$meta_groups = "Lymphatic system"
df[df$primary_site == "Uterus",]$meta_groups = "Female CC"
df$meta_groups
table(df$meta_groups)
len(unique(df$meta_groups))
length(unique(df$meta_groups))
# write_feather(df, path)
setwd(path)
arrow::write_feather(df,"MASTER.metagroups.phenodata.dataframe.15505.samples.CURATED.feather")
